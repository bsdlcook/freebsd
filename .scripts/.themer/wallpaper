#!/usr/bin/env bash
#--------------------- Check for solid_background variable in theme conf.
[[ -n "$solid_background" ]] && \
#--------------------- Generate solid background wallpaper.
	convert -size 2560x1080 canvas:"$solid_background" "$scriptdir/.themer/.background.png" || {
#--------------------- Generate wallpaper with icon.
	sed -i "" -r "s/fill=\"#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})\"/fill=\"$accent\"/" "$scriptdir/.themer/.icon.svg" && \
	convert -size 2560x1080 canvas:"$background" -gravity center -background none -size 400x400 "$scriptdir/.themer/.icon.svg" -composite "$scriptdir/.themer/.background.png"
}
#--------------------- Set newly generated wallpaper.
source "$scriptdir/background"
#---------------------
